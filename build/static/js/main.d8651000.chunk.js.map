{"version":3,"sources":["components/Togglable.js","components/Blog.js","services/blogService.js","services/loginService.js","components/BlogForm.js","reducers/notiReducer.js","components/Notification.js","components/Error.js.js","App.js","index.js","store.js"],"names":["Togglable","React","forwardRef","props","ref","useState","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","useImperativeHandle","style","onClick","buttonLabel","className","children","displayName","Blog","blog","user","addLike","removeBlog","paddingTop","paddingLeft","border","borderWidth","marginBottom","id","title","author","url","likes","username","token","getAll","axios","get","then","response","data","create","newObject","a","post","update","put","remove","delete","setToken","newToken","headers","Authorization","login","credentials","BlogForm","addBlog","handleAuthorChange","handleTitleChange","handleUrlChange","newTitle","newAuthor","newUrl","onSubmit","value","onChange","type","setNotification","notification","time","dispatch","setTimeout","notiReducer","state","action","mapDispatchToProps","connectedNotifications","connect","console","log","Error","error","App","blogs","setBlogs","setUsername","password","setPassword","setNewTitle","setNewAuthor","setNewUrl","blogFormRef","useRef","message","setMessage","setError","setUser","useDispatch","useEffect","blogService","loggedUserJSON","window","localStorage","getItem","JSON","parse","handleLogin","event","preventDefault","loginService","setItem","stringify","name","target","confirm","filter","removeItem","blogObject","current","res","concat","sort","b","map","key","find","n","changedBlog","catch","store_1","combReducer","combineReducers","createStore","composeWithDevTools","applyMiddleware","thunk","store","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d8651000.chunk.js","sourcesContent":["\nimport React, { useState, useImperativeHandle } from 'react'\nimport PropTypes from 'prop-types'\n\nconst Togglable = React.forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      toggleVisibility\n    }\n  })\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n      <div style={showWhenVisible} className=\"togglableContent\">\n        {props.children}\n        <br></br>\n        <button onClick={toggleVisibility}>cancel</button>\n      </div>\n    </div>\n  )\n})\n\nTogglable.displayName = 'Togglable'\n\nTogglable.propTypes = {\n  buttonLabel: PropTypes.string.isRequired\n}\n\nexport default Togglable","import React from 'react'\nimport Togglable from './Togglable'\n\nconst Blog = ({ blog, user, addLike, removeBlog }) => {\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 5\n  }\n\n\n  return (\n    <li className='blog'>\n    <div style={blogStyle}>\n      <div>\n        <p id='title'>title: {blog.title}</p> \n        <p id='author'>author: {blog.author}</p>\n        <Togglable buttonLabel=\"view\" >\n          <p id='url'> url: {blog.url}</p>\n          <br></br>\n      <p id='likes'> likes: {blog.likes} <button onClick={addLike}> like</button> </p>      \n          <br></br>\n          <p id='user'> user: {user.username} </p>\n          <button onClick={removeBlog}>remove</button>\n        </Togglable>\n      </div>\n    </div>\n    </li>\n  )}\n\nexport default Blog\n","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = { headers: { Authorization: `bearer ${newToken}` } }\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\nconst create = async newObject => {\n  const response = await axios.post(baseUrl, newObject, token)\n  return response.data\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject, token)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`, token)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove, setToken }","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst BlogForm = ({\n  addBlog,\n  handleAuthorChange,\n  handleTitleChange,\n  handleUrlChange,\n  newTitle,\n  newAuthor,\n  newUrl,\n}) =>\n  <form onSubmit={addBlog}>\n    <div>\n  title: <input id={'title'} value={newTitle}\n        onChange={handleTitleChange} />\n    </div>\n    <div>\n  author: <input id={'author'} value={newAuthor}\n        onChange={handleAuthorChange} />\n    </div>\n    <div>\n      <div>\n  url: <input id={'url'} value={newUrl}\n          onChange={handleUrlChange} />\n      </div>\n      <div></div>\n      <button id={'create-button'} type=\"submit\">create</button>\n    </div>\n  </form>\n\n\nBlogForm.propTypes= {\n  addBlog: PropTypes.func.isRequired,\n  handleAuthorChange: PropTypes.func.isRequired,\n  handleTitleChange: PropTypes.func.isRequired,\n  handleUrlChange: PropTypes.func.isRequired,\n  newTitle: PropTypes.string.isRequired,\n  newAuthor: PropTypes.string.isRequired,\n  newUrl: PropTypes.string.isRequired,\n}\n\nexport default BlogForm","export const setNotification = ( notification, time) => {\n    return async dispatch => {\n      dispatch({\n        type: 'SET_NOTI',\n        notification,\n      })\n      setTimeout(() => {\n        dispatch({\n            type: 'SET_NOTI',\n            notification: null,\n          })\n      }, time * 500 )\n      \n    }\n  }\n  const notiReducer = (state = 'ALL', action) => {\n    switch (action.type) {\n      case 'SET_NOTI':\n        return action.notification\n      default:\n        return state\n    }\n  }\n\n  export default notiReducer","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setNotification } from '../reducers/notiReducer'\n\nconst Notification = ( props ) => {\n  const notification = props.notification\n  \n  if (notification === '' || notification === null || notification === 'ALL') {\n    return <div></div>\n  }\n  console.log(notification)\n  return (\n    <div className=\"notification\">\n      {notification}\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    notification: state.notification\n  }\n}\n\n\nconst mapDispatchToProps = {\n  setNotification,\n}\n\nconst connectedNotifications = connect(mapStateToProps,\n  mapDispatchToProps)(Notification)\n\nexport default connectedNotifications","import React from 'react'\n\nconst Error = ({ error }) => {\n  if (error === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {error}\n    </div>\n  )\n}\n\n\nexport default Error","import React, { useState, useEffect, useRef } from 'react'\nimport Blog from './components/Blog'\nimport blogService from './services/blogService'\nimport loginService from './services/loginService'\nimport BlogForm from './components/BlogForm'\nimport Notification from './components/Notification'\nimport Error from './components/Error.js'\nimport './App.css'\nimport Togglable from './components/Togglable'\nimport  { setNotification }  from './reducers/notiReducer'\nimport { useDispatch } from 'react-redux'\n\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [newTitle, setNewTitle] = useState('')\n  const [newAuthor, setNewAuthor] = useState('')\n  const [newUrl, setNewUrl] = useState('')\n  const blogFormRef= useRef()\n\n  const [message, setMessage] = useState(null)\n  const [error, setError] = useState(null)\n  const [user, setUser] = useState(null)\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    blogService.getAll().then(blogs =>\n      setBlogs( blogs )\n    )\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n    }\n  }, [])\n\n  const addBlog = (event, props) => {\n    event.preventDefault()\n    const blogObject = {\n      title: newTitle,\n      author: newAuthor,\n      url: newUrl,\n      likes: 0\n    }\n\n    blogFormRef.current.toggleVisibility()\n\n    blogService\n      .create(blogObject)\n\n\n      .then(res => {\n        setBlogs(blogs.concat(res))\n        setNewTitle('')\n        setNewAuthor('')\n        setNewUrl('')\n        setNotification(`a new blog '${blogObject.title}' added`, 100000000)\n      })\n\n  }\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n\n      window.localStorage.setItem(\n        'loggedUser', JSON.stringify(user)      )\n\n\n      blogService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n      setMessage(`Welcome ${user.username}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    } catch (exception) {\n      setError('invalid username or password')\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    }\n  }\n\n  const addLike = (id) => {\n      const blog = blogs.find(n => n.id === id)\n      const changedBlog = { ...blog, likes: blog.likes + 1 }\n\n      blogService.update(changedBlog.id, changedBlog)\n        .then(response => {\n          setBlogs(blogs.map(blog => blog.id !== id ? blog : response))\n        })\n        .catch(error => {\n          setError('adding like failed')\n        })\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n\n  }\n  \n\n\n  const handleTitleChange = (event) => {\n    setNewTitle(event.target.value)\n  }\n\n  const handleAuthorChange = (event) => {\n    setNewAuthor(event.target.value)\n  }\n\n  const handleUrlChange = (event) => {\n    setNewUrl(event.target.value)\n  }\n\n  const handleLogout = () => {\n    window.localStorage.removeItem('loggedUser')\n    setUser(null)\n  }\n\n  if (user === null) {\n    return (\n      <div>\n        <Error error={error} />\n        <h2>Log in to application</h2>\n        <form onSubmit={handleLogin}>\n          <div>\n          username\n            <input\n              id='username'\n              value={username}\n              name=\"Username\"\n              onChange={({ target }) => setUsername(target.value)}\n            />\n          </div>\n          <div>\n          password\n            <input\n              id='password'\n              type=\"password\"\n              value={password}\n              name=\"Password\"\n              onChange={({ target }) => setPassword(target.value)}\n            />\n          </div>\n          <button id=\"login-button\" type=\"submit\">login</button>\n        </form>\n      </div>\n    )\n  }\n\n  const SortedBlogs = () => {\n    const sorts = blogs.sort((a,b) => b.likes - a.likes).map(blog =>\n      <Blog key={blog.id} blog={blog} user={user} addLike={() => addLike(blog.id)}\n        removeBlog={() => removeBlog(blog)} />\n    )\n\n    return (\n      sorts\n    )\n  }\n\n  const removeBlog = async (blog) => {\n    if (window.confirm(`Remove blog ${blog.title}?`))\n      try {\n        blogService.setToken(user.token)\n        setUser(user)\n        await blogService.remove(blog.id)\n        setMessage(`${blog.title} deleted`)\n        setBlogs(blogs.filter(a => a.id !== blog.id))\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      } catch (error) {\n        setError('Delete failed')\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n\n      }\n\n  }\n\n\n  return (\n    <div>\n      <h2>blogs</h2>\n      <Notification message={message} />\n      {user.name} logged in\n      <button onClick={() => handleLogout()}>logout</button>\n      <br></br>\n      <h2>create new</h2>\n      <Togglable buttonLabel='new note' ref={blogFormRef}>\n        <BlogForm addBlog={addBlog} newTitle={newTitle}\n          newAuthor={newAuthor} newUrl={newUrl} handleTitleChange={handleTitleChange}\n          handleAuthorChange={handleAuthorChange} handleUrlChange={handleUrlChange} />\n      </Togglable>\n      <SortedBlogs/>\n    </div>\n\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport store  from './store'\n\n\nconst store_1 = store()\n\nReactDOM.render( <Provider store={store_1}>\n    <App />\n    </Provider>, document.getElementById('root'))","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport thunk from 'redux-thunk'\nimport notiReducer from './reducers/notiReducer'\n\nconst store = () => {\n    \n    const combReducer = combineReducers( {\n        notification: notiReducer,\n    })\n\n    const stor = createStore(\n        combReducer,\n        composeWithDevTools(\n            applyMiddleware(thunk)\n        )\n    )\n\n    return (\n        stor\n    )\n    \n}\n\n\nexport default store"],"sourceRoot":""}